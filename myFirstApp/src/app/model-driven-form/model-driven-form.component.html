<!-- The form below needs to be bound to the model in the component -->
<!-- And that is done by using the binding property on the form [formGroup]="myForm" -->

<app-nav-home></app-nav-home>

<form [formGroup]="myForm" style="width: 50%; padding: 20px;" (ngSubmit)="onSubmit()" >
  <button type="submit" class="btn btn-primary">Submit Form</button>

  <div *ngIf="showFormValues">
    <p>First name: {{ firstName.value }}</p>
    <p>Last name: {{ lastName.value }}</p>
    <p>Email: {{ email.value }}</p>
    <p>Password: {{ password.value }}</p>
    <p>Language: {{ language.value }}</p>
  </div>

  <!-- First Name and Last Name -->
  <fieldset formGroupName="name">
    <div class="form-group">
      <label for="firstName">First Name: </label>
      <input type="text"
             class="form-control"
             formControlName="firstName"
			       required>
    </div>
    <div class="form-group">
      <label for="lastName">Last Name: </label>
      <input type="text"
             id="lastName"
             formControlName="lastName"
             class="form-control"
             required>
    </div>
  </fieldset>

  <!-- Email -->
  <div class="form-group" [ngClass]="{
    'has-danger': email.invalid && email.dirty,
    'has-success': email.valid && email.dirty }">
    <label for="email">Email: </label>
    <input type="text"
           id="email"
           class="form-control"
           formControlName="email"
           required>
    <div class="form-control-feedback" *ngIf="email.invalid && email.dirty">
      Email is invalid
    </div>
  </div>


  <!-- Password -->
  <div class="form-group">
    <label for="password">Password: </label>
    <input type="password"
           id="password"
           formControlName="password"
           class="form-control"
           required>
    <div *ngIf="password.invalid && password.dirty">
      <p *ngIf="password.errors.required">Password is required</p>
      <p *ngIf="password.errors.minLength">Password must be longer than 5 characters</p>
    </div>
  </div>

  <!-- Language dropdown -->
  <div class="form-group">
    <label for="language">Language: </label>
    <select class="form-control" formControlName="language">
      <option value="">Please select a language</option>
      <option *ngFor="let lang of languages" [value]="lang.ID">{{ lang.Name }}</option>
    </select>
  </div>

  <pre>First name touched? {{ firstName.touched }}</pre>

  <p>{{ languages | json }}</p>
</form>
